#!/usr/bin/env node
const readline = require('readline');
const https = require('https')

const userInput = readline.createInterface({
    input: process.stdin,
    output:process.stdout
})

userInput.question('whats your username?', (ans) => {
    let url = `https://api.github.com/users/${ans}`;

    const options = {
        headers: {
            'User-Agent': 'Github-info',
            'Content-Type': 'application/json'
        }
    };

    https.get(url, options, (res) => {
        console.log('check 2', res.statusCode)

        if(res.statusCode == 200) {
            console.log('check 4')
        } else {
            console.log(res, 'check 5')
        }

        let rawData = "";

        res.on('data', (data) => {
            rawData += data;    
        });

        res.on('end', () => {
            let one = JSON.parse(rawData);
            console.log(`name: ${one.name}`);
            console.log(`Followers: ${one.followers}`);
            console.log(`Public-repos: ${one.public_repos}`)
            console.log(`Following: ${one.following}`);
            
            
            userInput.close();
        })
    }
)
})

